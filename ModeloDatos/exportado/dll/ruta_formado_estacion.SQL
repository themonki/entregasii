--   -------------------------------------------------- 
--   Generated by Enterprise Architect Version 7.5.844
--   Created On : Martes, 20 Diciembre, 2011 
--   DBMS       : PostgreSQL 
--   -------------------------------------------------- 

DROP TABLE IF EXISTS ruta_formado_estacion;
CREATE TABLE ruta_formado_estacion ( 
	nombre varchar(10) NOT NULL,
	id_estacion integer NOT NULL
);

ALTER TABLE ruta_formado_estacion ADD CONSTRAINT PK_ruta_formado_estacion 
	PRIMARY KEY (nombre, id_estacion);


ALTER TABLE ruta_formado_estacion ADD CONSTRAINT FK_ruta_formado_estacion_ruta 
	FOREIGN KEY (nombre) REFERENCES ruta (nombre) 
ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ruta_formado_estacion ADD CONSTRAINT FK_ruta_formado_estacion_estacion 
	FOREIGN KEY (id_estacion) REFERENCES estacion (id) 
ON DELETE CASCADE ON UPDATE CASCADE;

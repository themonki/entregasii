--   -------------------------------------------------- 
--   Generated by Enterprise Architect Version 7.5.844
--   Created On : Viernes, 09 Diciembre, 2011 
--   DBMS       : PostgreSQL 
--   -------------------------------------------------- 

DROP TABLE IF EXISTS conductor_conduce_bus;
CREATE TABLE conductor_conduce_bus ( 
	id varchar(50) NOT NULL,
	matricula varchar(10) NOT NULL,
	hora_inicio time NOT NULL,
	hora_fin time,
	fecha date NOT NULL
);

ALTER TABLE conductor_conduce_bus ADD CONSTRAINT PK_conductor_conduce_bus 
	PRIMARY KEY (id, matricula, hora_inicio, fecha);


ALTER TABLE conductor_conduce_bus ADD CONSTRAINT FK_conductor_conduce_bus_bus 
	FOREIGN KEY (matricula) REFERENCES bus (matricula)
ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE conductor_conduce_bus ADD CONSTRAINT FK_conductor_conduce_bus_conductor 
	FOREIGN KEY (id) REFERENCES conductor (id)
ON DELETE CASCADE ON UPDATE CASCADE;

